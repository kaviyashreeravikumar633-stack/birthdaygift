<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cat</title>
</head>
<body>
    
</body>
</html>
<html>
<head>
    <title>Cat Translator</title>
    <style>
        body {
            background: #ffb6d9;
            font-family: Arial;
            display: flex;
            justify-content: space-between;
            padding: 40px;
            height: 100vh;
        }

        #left {
            text-align: center;
            flex: 1;
        }

        #cat-img {
            width: 260px;
            image-rendering: pixelated;
            margin-bottom: 20px;
        }

        #input-area {
            margin-top: 15px;
        }

        input {
            padding: 10px;
            width: 260px;
            border-radius: 10px;
            border: solid 1px #ff77bb;
            font-size: 16px;
        }

        button {
            padding: 10px 20px;
            border: none;
            background: #ff4fa5;
            color: white;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }

        #tips-box {
            width: 250px;
            background: white;
            padding: 20px;
            border-radius: 20px;
            height: fit-content;
        }

        #status {
            margin-top: 10px;
            font-weight: bold;
            color: #99004d;
            height: 20px;
        }

        #voiceBtn {
            background: #ff94c7;
        }
    </style>
</head>

<body>

<div id="left">

    <!-- CAT IMAGE -->
    <img id="cat-img" src="cat_happy.png">

    <!-- STATUS LINE -->
    <div id="status"></div>

    <!-- INPUT + BUTTONS -->
    <div id="input-area">
        <input id="userText" placeholder="Type somethingâ€¦" />

        <br><br>

        <button onclick="handleText()">ğŸ’¬ Speak to Cat</button>
        <button id="voiceBtn" onclick="startListening()">ğŸ¤ Voice</button>
    </div>
</div>

<!-- TIPS BOX -->
<div id="tips-box">
    <h2>Tips ğŸ¾</h2>
    <p>â€¢ Say â€œHiâ€</p>
    <p>â€¢ Say â€œDo you love me?â€</p>
    <p>â€¢ Say â€œI am sadâ€</p>
    <p>â€¢ Say â€œTell me a jokeâ€</p>
    <p>â€¢ Ask any question</p>
</div>


<script>
    /* ---------------------
       CAT EXPRESSIONS
    --------------------- */
    const expressions = {
        happy: "cat_happy.png",
        sad: "cat_sad.png",
        angry: "cat_angry.png",
        confused: "cat_confused.png",
        love: "cat_love.png",
        laugh: "cat_laugh.png"
    };

    /* ---------------------
       AI LOGIC
    --------------------- */
    function getReply(text) {
        text = text.toLowerCase();

        if (text.includes("hi") || text.includes("hello"))
            return { text: "Meow! Hii friend!", mood: "happy" };

        if (text.includes("love"))
            return { text: "Meeoooow! I love you more!", mood: "love" };

        if (text.includes("joke"))
            return { text: "Why did the cat sleep on your laptop? To keep an eye on the mouse!", mood: "laugh" };

        if (text.includes("sad"))
            return { text: "Don't be sadâ€¦ I give you small head boops. Meow!", mood: "sad" };

        if (text.includes("angry"))
            return { text: "HISSSâ€”but you're still cute!", mood: "angry" };

        if (text.includes("why"))
            return { text: "Hmm... let me thinkâ€¦ meow?", mood: "confused" };

        return { text: "Meow meow! I love talking to you!", mood: "happy" };
    }

    /* ---------------------
       CHANGE CAT IMAGE
    --------------------- */
    function changeCat(mood) {
        document.getElementById("cat-img").src = expressions[mood];
    }

    /* ---------------------
       CAT SPEAKS
    --------------------- */
    function speak(text) {
        let voice = new SpeechSynthesisUtterance(text);
        voice.pitch = 1.4;
        voice.rate = 1;
        speechSynthesis.speak(voice);
    }

    /* ---------------------
       TEXT INPUT HANDLER
    --------------------- */
    function handleText() {
        const input = document.getElementById("userText");
        const text = input.value.trim();
        const status = document.getElementById("status");

        if (text === "") {
            status.innerHTML = "Type something ğŸ˜º";
            return;
        }

        let reply = getReply(text);

        changeCat(reply.mood);
        speak(reply.text);

        status.innerHTML = "You said: " + text;

        input.value = "";
    }

    /* ---------------------
       VOICE INPUT
    --------------------- */
    function startListening() {
        const status = document.getElementById("status");

        if (!("webkitSpeechRecognition" in window)) {
            status.innerHTML = "Voice not supported ğŸ˜¿";
            return;
        }

        status.innerHTML = "Listeningâ€¦ ğŸ¤";

        const rec = new webkitSpeechRecognition();
        rec.lang = "en-US";
        rec.continuous = false;
        rec.interimResults = false;

        rec.start();

        rec.onresult = (event) => {
            let text = event.results[0][0].transcript;

            let reply = getReply(text);

            changeCat(reply.mood);
            speak(reply.text);

            status.innerHTML = "You said: " + text;
        };

        rec.onerror = () => {
            status.innerHTML = "Mic blocked or error ğŸ˜¿";
        };
    }
</script>


</body>
</html>

